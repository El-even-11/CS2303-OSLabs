import matplotlib.pyplot as plt
import matplotlib.patches as mpatches
import numpy as np
import math

labels = ['0','20', '40', '60', '80', '100']

normal_20 = [
25.023000,85.369000,13.612000,88.991000,93.611000,131.552000,96.898000,260.603000,4.637000,11.087000,15.790000,44.082000,24.752000,9.092000,91.943000,15.180000,4.391000,9.857000,9.674000,157.216000]
normal_40 = [
56.502000,66.626000,73.485000,76.316000,81.909000,27.269000,199.636000,1.678000,5.459000,16.630000,85.655000,88.652000,61.304000,96.393000,14.536000,27.770000,32.624000,217.164000,37.679000,8.453000,45.395000,55.956000,67.534000,13.118000,12.148000,22.004000,25.851000,64.220000,212.235000,110.579000,102.748000,19.784000,262.702000,26.716000,7.452000,13.095000,19.283000,80.573000,100.645000,8.292000]
normal_60 = [
12.982000,93.420000,35.834000,115.522000,42.147000,45.879000,49.758000,53.998000,57.504000,64.300000,29.965000,77.819000,45.329000,134.867000,14.328000,196.973000,12.292000,19.368000,27.176000,15.097000,28.108000,22.571000,34.254000,31.339000,25.293000,79.996000,84.790000,12.795000,31.166000,142.006000,26.186000,15.916000,89.117000,130.477000,40.788000,15.888000,24.047000,28.931000,20.974000,26.704000,33.792000,41.130000,49.480000,47.061000,45.445000,43.209000,41.620000,39.733000,38.138000,34.548000,34.402000,24.658000,33.395000,38.744000,47.623000,102.601000,11.410000,58.329000,11.659000,4.785000]
normal_80 = [
27.967000,204.469000,54.812000,14.870000,192.404000,140.662000,140.415000,11.564000,87.453000,92.541000,207.551000,94.986000,250.845000,256.387000,287.871000,13.554000,19.973000,29.345000,84.196000,3.232000,5.523000,21.298000,28.602000,36.339000,38.760000,40.628000,43.091000,51.719000,58.127000,166.652000,88.315000,6.874000,20.005000,32.167000,33.860000,109.107000,18.761000,21.600000,26.370000,102.057000,105.573000,32.174000,17.138000,27.349000,191.680000,12.293000,21.018000,26.698000,99.461000,165.854000,14.866000,18.551000,21.865000,25.942000,33.340000,33.677000,98.275000,104.418000,24.087000,30.281000,41.179000,46.706000,36.517000,52.503000,68.295000,67.923000,11.533000,30.202000,40.147000,8.248000,150.858000,92.231000,90.409000,177.523000,29.699000,2.954000,23.360000,58.478000,3.848000,173.841000]
normal_100 = [
21.513000,37.679000,43.866000,53.650000,140.247000,18.171000,18.163000,67.466000,148.144000,209.434000,256.420000,27.971000,54.127000,64.305000,68.780000,81.933000,88.728000,1.093000,118.160000,96.439000,103.921000,54.773000,64.367000,6.434000,11.953000,82.937000,75.953000,15.168000,21.333000,25.111000,132.254000,19.466000,156.732000,29.564000,122.197000,24.099000,29.610000,37.826000,45.878000,14.388000,12.909000,162.091000,14.264000,20.401000,24.131000,29.890000,49.257000,4.088000,4.322000,9.453000,13.170000,122.983000,101.806000,14.834000,22.295000,29.725000,14.886000,22.590000,193.522000,99.382000,50.291000,40.089000,65.009000,13.937000,23.777000,56.803000,115.138000,265.491000,50.108000,54.447000,69.096000,72.872000,92.739000,172.622000,13.091000,22.907000,33.926000,52.460000,62.951000,77.437000,89.506000,351.327000,193.718000,13.970000,16.508000,19.439000,24.660000,106.355000,10.346000,30.423000,44.981000,171.487000,67.011000,1.192000,24.056000,37.357000,30.957000,49.617000,62.499000,66.858000]
fifo_20 = [
92.635000,31.823000,13.382000,135.718000,18.789000,26.055000,15.359000,26.736000,32.158000,143.069000,52.348000,41.429000,36.727000,13.174000,27.739000,266.750000,15.046000,19.749000,4.140000,103.836000]
fifo_40 = [
58.920000,71.471000,35.294000,142.995000,41.234000,52.051000,6.399000,29.987000,41.882000,55.177000,11.184000,16.848000,23.678000,25.705000,147.607000,17.669000,21.619000,25.813000,21.629000,42.928000,49.241000,57.001000,164.664000,29.219000,46.908000,57.700000,61.290000,12.185000,30.460000,54.939000,81.249000,153.407000,94.956000,102.791000,29.759000,2.355000,56.508000,53.546000,65.257000,84.695000]
fifo_60 = [
17.663000,25.350000,119.612000,80.849000,100.880000,16.078000,20.453000,23.294000,39.714000,7.814000,10.447000,13.881000,16.888000,19.480000,24.798000,111.290000,4.016000,10.858000,16.538000,151.842000,73.044000,166.826000,90.355000,23.456000,69.671000,1.512000,5.483000,11.552000,148.494000,15.177000,16.623000,39.104000,68.043000,13.314000,10.120000,21.815000,6.907000,16.688000,37.109000,80.907000,51.522000,49.953000,48.937000,25.814000,11.249000,47.838000,18.266000,10.571000,15.587000,18.618000,20.854000,22.712000,24.815000,42.595000,46.055000,50.773000,117.770000,30.685000,8.584000,181.716000]
fifo_80 = [
2.513000,8.153000,13.843000,120.315000,105.010000,3.847000,7.982000,27.443000,19.527000,85.288000,36.970000,51.755000,84.851000,1.104000,14.765000,19.803000,72.764000,112.984000,38.729000,52.409000,13.977000,17.593000,21.892000,46.784000,80.591000,31.802000,27.860000,20.963000,51.586000,75.411000,9.056000,67.787000,22.278000,40.576000,43.066000,46.504000,102.594000,146.578000,13.575000,10.836000,54.223000,59.602000,63.275000,18.435000,28.714000,47.206000,52.079000,201.557000,164.458000,283.182000,14.124000,20.406000,22.140000,34.475000,84.053000,23.433000,148.735000,3.499000,8.915000,13.319000,174.835000,14.952000,39.306000,51.079000,17.681000,164.065000,18.113000,34.561000,66.533000,7.123000,9.545000,17.862000,23.279000,27.356000,27.273000,37.941000,45.184000,50.340000,98.677000,14.355000]
fifo_100 = [
2.534000,51.304000,58.084000,60.412000,84.107000,122.102000,77.644000,19.528000,174.492000,15.067000,19.791000,21.934000,32.727000,36.476000,42.850000,51.366000,156.974000,17.993000,160.132000,191.175000,39.380000,50.937000,143.014000,39.602000,70.884000,69.576000,18.342000,44.994000,58.477000,177.930000,184.825000,11.478000,45.123000,2.467000,20.556000,27.280000,59.547000,69.249000,73.818000,94.180000,142.647000,162.038000,81.090000,75.345000,67.677000,90.240000,94.080000,112.358000,15.471000,30.061000,89.120000,3.689000,4.130000,9.097000,13.120000,18.497000,23.652000,267.356000,111.158000,16.257000,37.830000,40.606000,43.223000,46.316000,49.091000,60.815000,189.982000,69.511000,114.332000,66.813000,7.758000,13.449000,10.915000,16.057000,24.033000,27.152000,29.330000,33.386000,39.418000,1.508000,168.726000,7.380000,15.316000,3.597000,14.763000,104.977000,68.936000,10.495000,141.749000,24.884000,91.104000,17.463000,5.511000,96.978000,121.545000,140.363000,21.682000,93.769000,64.156000,125.665000]
rr_20 = [
15.778000,46.768000,215.711000,23.585000,34.601000,14.245000,20.134000,23.880000,29.324000,34.020000,40.970000,60.786000,211.354000,92.769000,12.814000,20.176000,12.672000,12.909000,18.383000,26.036000]
rr_40 = [
24.483000,34.988000,110.671000,16.269000,146.211000,58.299000,69.247000,17.195000,24.720000,138.682000,79.975000,130.562000,199.915000,54.274000,122.500000,19.121000,138.824000,39.097000,42.821000,10.066000,63.885000,67.587000,70.933000,76.435000,14.361000,55.536000,57.784000,63.146000,67.545000,69.429000,75.025000,79.792000,83.331000,21.846000,40.552000,65.802000,83.811000,34.842000,87.859000,70.644000]
rr_60 = [
13.520000,22.107000,35.739000,41.834000,44.886000,55.614000,78.982000,29.222000,18.736000,30.307000,13.003000,17.421000,22.401000,7.729000,136.837000,109.800000,83.439000,54.904000,62.946000,67.885000,70.308000,72.709000,79.755000,20.582000,135.040000,6.559000,14.015000,169.958000,29.507000,3.599000,78.708000,87.706000,93.929000,120.201000,9.525000,2.707000,9.184000,19.190000,154.719000,16.570000,95.528000,100.603000,96.431000,8.739000,4.545000,17.060000,38.458000,118.577000,140.401000,80.068000,127.536000,5.805000,12.856000,23.627000,29.577000,32.875000,40.435000,148.049000,74.069000,37.562000]
rr_80 = [
22.538000,34.584000,37.189000,40.935000,78.072000,31.768000,35.722000,45.514000,33.747000,48.857000,70.796000,13.809000,41.924000,31.683000,38.104000,25.245000,19.473000,59.639000,2.470000,70.288000,14.995000,20.724000,25.559000,60.036000,54.729000,53.834000,53.506000,61.057000,7.532000,17.947000,211.971000,148.900000,13.407000,7.400000,19.477000,29.954000,53.865000,73.950000,81.773000,123.840000,13.195000,17.918000,21.173000,29.745000,35.359000,46.416000,18.372000,22.670000,148.556000,35.541000,40.747000,46.250000,50.933000,61.313000,142.722000,29.272000,157.853000,22.244000,111.920000,19.923000,13.247000,47.251000,21.783000,72.232000,87.692000,116.410000,1.608000,12.854000,15.852000,18.296000,47.897000,88.925000,76.730000,236.290000,59.591000,40.067000,54.105000,55.761000,134.159000,44.407000]
rr_100 = [
111.759000,19.002000,131.859000,6.846000,19.157000,23.319000,22.990000,22.914000,23.018000,23.566000,23.743000,25.945000,32.169000,45.943000,48.591000,51.067000,56.180000,62.707000,30.268000,69.756000,155.752000,25.382000,66.331000,98.105000,180.806000,44.014000,59.008000,51.043000,7.083000,81.245000,85.751000,13.663000,38.900000,142.025000,92.797000,22.576000,26.410000,30.749000,35.864000,77.759000,89.558000,0.910000,70.435000,69.465000,78.916000,90.080000,144.010000,3.175000,53.820000,12.779000,19.308000,24.330000,35.577000,14.212000,47.496000,44.232000,25.343000,102.921000,13.845000,20.109000,24.057000,17.391000,85.767000,13.193000,45.917000,57.846000,68.622000,2.727000,14.248000,18.676000,21.917000,27.853000,52.552000,194.958000,111.489000,3.478000,9.280000,11.456000,14.418000,22.923000,28.610000,8.839000,10.784000,14.452000,60.592000,37.041000,79.725000,82.773000,86.470000,95.138000,100.599000,3.382000,7.255000,15.273000,18.075000,24.033000,89.671000,64.545000,198.844000,69.736000]
ras_20 = [
13.156000,24.078000,34.266000,70.940000,22.595000,26.244000,14.013000,18.210000,22.264000,4.094000,112.161000,15.034000,19.517000,22.847000,32.829000,97.902000,112.754000,7.531000,14.711000,26.843000]
ras_40 = [
33.691000,57.327000,113.360000,150.081000,12.720000,23.896000,25.196000,103.130000,2.063000,50.686000,25.781000,29.362000,17.196000,26.939000,38.399000,156.379000,130.755000,111.081000,5.889000,57.158000,61.009000,64.609000,56.500000,24.424000,72.609000,74.090000,23.247000,16.569000,21.122000,91.245000,135.174000,21.822000,30.874000,77.147000,84.400000,239.735000,4.938000,141.326000,12.295000,92.132000]
ras_60 = [
24.448000,70.625000,15.272000,27.425000,101.481000,25.470000,17.574000,37.026000,74.362000,43.246000,31.574000,189.751000,11.319000,15.033000,20.428000,33.108000,36.214000,41.093000,4.025000,18.740000,43.619000,111.398000,10.107000,15.049000,20.572000,37.200000,45.045000,99.594000,47.158000,13.332000,45.480000,43.753000,63.562000,13.971000,21.530000,25.313000,33.966000,40.161000,29.687000,80.805000,28.463000,47.321000,219.885000,220.114000,57.811000,61.597000,69.675000,233.518000,155.879000,18.165000,23.044000,20.994000,34.292000,8.140000,81.060000,67.683000,45.928000,50.002000,57.738000,174.268000]
ras_80 = [
15.432000,72.353000,17.122000,103.244000,9.059000,4.911000,133.862000,101.477000,123.542000,55.643000,29.308000,89.444000,93.661000,22.231000,27.114000,31.825000,47.117000,57.289000,122.258000,47.041000,44.762000,7.662000,231.966000,12.649000,17.055000,20.760000,58.267000,11.267000,67.307000,70.795000,75.058000,55.649000,68.995000,16.618000,167.554000,63.699000,77.432000,101.855000,5.325000,100.901000,99.902000,12.949000,21.033000,26.321000,29.395000,101.882000,7.190000,16.008000,210.557000,70.804000,13.666000,20.389000,27.511000,31.141000,18.371000,25.268000,36.463000,124.645000,72.372000,68.288000,80.716000,97.779000,74.144000,4.311000,14.077000,82.951000,1.549000,3.600000,29.604000,29.679000,3.271000,64.484000,14.030000,19.194000,23.117000,26.561000,90.379000,76.801000,114.581000,13.798000]
ras_100 = [
18.102000,32.039000,91.475000,14.379000,13.292000,17.800000,22.333000,27.261000,32.044000,14.546000,21.373000,25.004000,34.510000,88.432000,12.169000,165.004000,14.918000,34.732000,10.982000,13.501000,18.002000,26.491000,25.453000,31.137000,51.642000,91.453000,38.747000,60.414000,64.685000,79.350000,133.388000,2.611000,62.563000,89.711000,12.248000,20.810000,115.911000,2.996000,48.308000,59.156000,87.684000,15.186000,27.767000,22.735000,29.270000,110.381000,16.364000,26.894000,33.114000,31.934000,6.813000,16.350000,38.405000,46.778000,195.023000,146.920000,11.459000,20.496000,24.119000,47.544000,53.116000,57.391000,62.374000,70.536000,79.061000,4.511000,14.217000,17.942000,23.354000,29.694000,65.764000,26.384000,36.073000,18.501000,31.393000,45.903000,21.818000,163.694000,14.261000,38.249000,26.797000,3.731000,8.492000,15.384000,28.043000,79.710000,80.782000,1.890000,6.350000,8.524000,11.647000,14.864000,3.147000,121.941000,50.952000,122.957000,44.937000,90.210000,20.281000,32.986000]
 
maxy = 0

# for i in range(len(normal)):
#     normal[i] = 20*(i+1)/normal[i]
#     maxy = max(maxy,normal[i])

# for i in range(len(fifo)):
#     fifo[i] = 20*(i+1)/fifo[i]
#     maxy = max(maxy,fifo[i])

# for i in range(len(rr)):
#     rr[i] = 20*(i+1)/rr[i]
#     maxy = max(maxy,rr[i])

# for i in range(len(ras)):
#     ras[i] = 20*(i+1)/ras[i]
#     maxy = max(maxy,ras[i])

x = np.arange(len(labels))  # the label locations
width = 0.15  # the width of the bars

fig, ax = plt.subplots()
rects1 = ax.boxplot([normal_20,normal_40,normal_60,normal_80,normal_100],
                     notch=False,  # notch shape
                     vert=True,  # vertical box alignment
                     patch_artist=True,  # fill with color
                    #  labels=labels, # will be used to label x-ticks
                     widths = width,
                     positions = [i-3*width/2-0.045 for i in range(1,6)]
                     )  

rects2 = ax.boxplot([fifo_20,fifo_40,fifo_60,fifo_80,fifo_100],
                     notch=False,  # notch shape
                     vert=True,  # vertical box alignment
                     patch_artist=True,  # fill with color
                    #  labels=labels,# will be used to label x-ticks
                     widths = width ,
                     positions = [i-width/2-0.015 for i in range(1,6)]
                     )  

rects3 = ax.boxplot([rr_20,rr_40,rr_60,rr_80,rr_100],
                     notch=False,  # notch shape
                     vert=True,  # vertical box alignment
                     patch_artist=True,  # fill with color
                    #  labels=labels,# will be used to label x-ticks
                     widths = width ,
                     positions = [i+width/2+0.015 for i in range(1,6)]
                     ) 

rects4 = ax.boxplot([ras_20,ras_40,ras_60,ras_80,ras_100],
                     notch=False,  # notch shape
                     vert=True,  # vertical box alignment
                     patch_artist=True,  # fill with color
                    #  labels=labels,# will be used to label x-ticks
                     widths = width ,
                     positions = [i+3*width/2+0.045 for i in range(1,6)]
                     ) 

colors = ['#FAD7A0','#F5B041','#D68910','#9C640C']
i = 0
for bplot in (rects1, rects2,rects3,rects4):
    for patch in bplot['boxes']:
        patch.set_facecolor(colors[i])
    i+=1    

rects = [
    mpatches.Rectangle((0,0),1.5,1,color=colors[0]),
    mpatches.Rectangle((0,0),1.5,1,color=colors[1]),
    mpatches.Rectangle((0,0),1.5,1,color=colors[2]),
    mpatches.Rectangle((0,0),1.5,1,color=colors[3])
]

ax.legend(rects, ['NORMAL','FIFO','RR','RAS'],loc = 'upper left')

# Add some text for labels, title and custom x-axis tick labels, etc.
ax.set_xlabel('Task Number')
ax.set_ylabel('Latency (ms)')
ax.set_title('Latency Benchmark')
ax.set_xticks(x, labels)

# ax.legend(handles=[patch])

# ax.bar_label(rects1, padding=3)
# ax.bar_label(rects2, padding=3)

# ax.set_ylim(0,math.ceil(maxy*1.1))

fig.tight_layout()

# plt.bar(range(len(normal)),normal, ec='w', ls='-', lw=0.01)
plt.show()