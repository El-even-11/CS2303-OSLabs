import matplotlib.pyplot as plt
import matplotlib.patches as mpatches
import numpy as np
import math

labels = ['0','20', '40', '60', '80', '100']

normal_20 = [0.014,0.005,0.011,0.004,0.010,1.010,1.089,1.094,1.097,0.157,1.015,2.092,4.261,4.009,6.016,6.085,12.025,12.132,21.044,22.025]
normal_40 = [0.086,0.089,0.002,0.200,0.015,0.013,0.022,0.212,1.033,0.111,1.027,1.028,0.008,1.038,0.026,1.101,1.007,1.013,2.019,3.008,3.057,4.217,4.012,3.081,6.096,5.027,7.045,6.067,10.073,11.056,11.061,11.263,15.064,16.020,17.076,18.005,28.082,29.068,29.103,30.017]
normal_60 = [0.050,1.058,1.054,0.019,0.027,1.064,0.023,1.078,0.041,0.031,0.142,1.085,1.031,0.038,0.025,0.016,0.024,0.012,1.005,1.042,1.040,1.103,1.021,1.033,2.197,1.029,2.043,3.080,2.034,4.116,3.014,2.039,4.015,3.016,4.045,5.048,7.045,8.013,6.089,7.025,7.058,7.047,12.030,11.130,13.135,13.028,12.035,13.049,21.042,20.027,21.034,20.034,23.036,21.013,33.093,33.026,33.011,35.046,34.012,34.041]
normal_80 = [0.140,0.192,1.251,1.012,0.014,0.003,0.006,1.028,0.088,0.029,0.029,0.026,0.032,1.036,0.012,0.021,0.047,0.102,0.015,0.019,0.027,1.020,1.012,1.030,1.151,1.040,0.004,0.174,2.106,0.003,0.058,2.034,1.099,2.022,3.039,4.084,2.068,5.087,3.166,3.024,4.041,5.141,2.023,5.017,4.030,5.026,5.068,7.020,7.043,8.109,9.027,10.015,10.093,9.053,9.033,10.178,13.204,13.192,14.095,15.052,15.032,14.034,15.030,16.090,23.058,23.021,24.037,24.098,26.055,26.288,25.092,26.019,36.008,36.104,38.256,37.041,38.167,41.208,40.022,40.007]
normal_100 = [0.067,0.018,0.018,0.148,0.064,1.054,0.025,1.069,0.030,0.132,1.082,0.030,0.076,0.038,0.009,0.013,1.046,2.089,0.099,1.014,1.115,3.209,0.093,0.173,2.049,0.023,0.034,1.194,0.017,0.019,0.025,0.024,2.020,1.351,1.037,0.031,2.014,2.024,2.106,2.015,2.050,4.014,2.050,4.015,4.024,6.054,5.122,3.052,4.001,6.012,5.083,7.096,4.010,6.022,6.030,9.140,6.265,7.040,6.062,7.014,10.019,11.104,8.054,11.006,11.004,9.063,10.030,12.057,11.067,13.030,17.157,19.001,19.162,17.067,18.102,21.022,18.194,22.055,20.050,20.069,30.028,31.038,32.064,29.090,29.045,30.065,31.015,31.013,31.123,30.073,46.118,45.023,46.024,44.171,45.077,48.044,48.256,47.004,47.013,49.021]

fifo_20 = [2.093,2.032,3.013,3.136,3.019,3.026,4.015,5.027,7.032,7.143,7.052,7.041,7.037,7.028,7.267,7.015,7.020,7.013,7.004,7.104]
fifo_40 = [1.059,3.071,3.035,3.143,4.041,4.052,4.006,3.030,5.042,5.055,5.011,5.017,5.024,6.026,6.148,6.018,7.022,7.026,7.022,9.043,9.049,10.057,10.165,10.029,10.047,10.058,11.061,12.012,12.055,13.081,13.153,13.030,14.095,14.103,14.030,14.002,14.057,14.054,14.065,14.085]
fifo_60 = [0.018,0.025,2.120,3.081,3.016,3.020,3.023,3.040,3.101,3.008,3.010,4.014,4.017,5.019,7.025,7.111,8.004,10.011,10.017,10.152,10.073,9.167,9.090,9.023,9.070,9.002,9.005,10.012,10.148,10.015,11.017,12.039,13.068,13.013,13.010,13.022,13.007,13.017,13.037,13.081,15.052,16.050,16.049,17.026,17.011,17.048,17.018,16.011,16.016,16.019,16.021,16.023,17.025,18.043,20.046,20.051,20.118,21.031,20.009,20.182]
fifo_80 = [0.003,0.008,0.014,2.120,2.105,2.004,2.008,2.027,3.020,4.085,4.037,5.052,6.085,6.001,6.015,6.020,6.073,6.113,6.039,6.052,7.014,7.018,7.022,8.047,10.081,10.032,10.028,10.021,10.052,9.075,9.009,10.068,10.022,10.041,10.043,11.047,13.103,13.147,13.014,13.011,14.054,16.060,16.063,16.018,16.029,16.047,16.052,16.202,16.164,16.283,17.014,19.020,19.022,19.034,20.084,19.023,20.149,20.003,22.009,22.013,22.175,22.015,22.051,22.018,22.164,22.018,22.039,22.035,23.067,23.007,23.010,23.018,23.023,23.027,23.027,23.038,23.045,24.050,26.099,26.014]
fifo_100 = [2.003,2.051,2.058,2.060,2.084,3.122,3.078,3.020,3.174,3.015,4.020,4.022,4.033,4.036,5.043,7.051,7.157,7.018,7.160,6.191,7.039,8.051,10.143,10.040,10.071,10.070,12.018,12.045,12.058,12.185,12.178,13.011,13.045,14.002,16.021,16.027,16.060,16.069,16.074,16.094,17.143,17.081,17.162,17.068,16.090,16.094,16.112,17.075,17.015,17.030,18.089,19.004,19.004,19.009,19.013,19.018,19.024,20.267,22.111,22.016,22.038,22.041,22.043,22.046,22.049,22.061,23.190,24.070,24.114,24.067,24.008,24.013,24.011,24.016,24.024,24.029,25.033,27.039,26.002,27.169,28.007,30.015,31.027,30.004,30.015,30.105,30.069,32.010,32.142,32.025,33.091,33.017,33.097,33.122,34.140,34.022,34.006,34.094,34.064,34.126]

rr_20 = [0.024,1.029,1.034,1.041,1.061,1.035,1.211,1.013,1.020,2.013,2.013,2.018,2.026,2.093,3.014,4.216,5.047,5.020,7.016,6.024]
rr_40 = [0.016,0.058,0.069,0.139,0.080,0.111,1.200,1.123,1.019,1.039,1.043,1.010,3.068,3.069,3.080,3.083,3.022,3.041,3.066,3.084,3.035,3.088,2.071,4.024,3.054,3.139,4.014,5.075,5.064,7.056,8.131,8.068,10.035,10.017,11.071,11.058,14.146,14.076,14.025,14.063]
rr_60 = [0.022,0.036,0.042,1.029,1.019,1.030,1.008,2.083,2.070,2.073,1.080,1.021,2.007,2.014,2.170,2.030,3.045,3.120,3.010,3.019,3.155,3.017,3.096,3.101,4.137,3.005,5.110,3.017,3.038,3.119,3.140,3.080,3.006,3.013,3.024,3.030,4.074,5.135,7.056,6.033,7.038,9.013,8.004,9.009,10.055,11.003,10.040,12.079,15.079,15.063,15.017,14.148,16.088,16.009,20.014,19.128,20.096,21.068,21.022,21.094]
rr_80 = [1.078,1.032,1.036,1.046,0.049,0.071,0.014,1.025,1.019,1.060,1.002,1.070,2.023,2.055,2.054,2.054,2.018,2.212,2.019,2.030,3.032,2.054,2.074,2.082,2.124,2.013,2.018,3.018,3.023,4.046,4.051,4.061,4.143,4.022,4.112,4.020,5.072,5.088,4.013,4.016,4.018,4.089,4.077,5.236,5.056,7.060,5.134,5.044,7.061,8.035,8.007,3.021,7.149,8.029,8.116,9.002,8.040,11.038,12.015,13.149,13.030,13.036,13.048,16.047,17.034,19.037,19.041,19.013,21.021,21.008,20.035,20.054,26.013,26.042,27.041,26.022,26.046,27.026,25.060,26.158]
rr_100 = [1.023,1.023,1.024,2.024,2.026,2.049,2.051,2.056,2.063,2.030,2.066,2.044,2.059,2.051,3.081,3.086,3.014,4.023,3.026,3.031,3.036,3.078,3.090,2.001,3.069,3.079,3.144,3.013,4.047,4.044,4.025,4.103,6.070,4.020,4.024,5.046,5.058,5.069,8.007,5.028,5.053,5.195,5.111,5.011,5.014,5.023,7.098,6.029,6.061,6.037,6.080,6.083,6.086,6.003,6.007,7.018,7.090,9.181,7.065,7.024,7.070,9.003,10.014,10.013,4.003,11.009,11.095,14.019,11.199,17.039,18.014,14.093,17.070,20.019,21.086,20.014,21.101,14.054,26.019,16.132,26.023,27.156,26.015,16.025,28.142,27.090,27.024,28.017,27.003,28.019,34.112,34.023,36.032,36.046,36.007,35.036,35.014,34.011,34.022,34.009]

ras_20 = [0.014,0.018,0.022,0.026,0.004,1.015,1.020,1.023,1.023,1.113,1.008,1.015,1.071,2.027,3.013,3.033,5.024,4.098,7.034,6.112]
ras_40 = [0.013,0.025,0.103,0.002,0.051,1.017,1.027,1.038,1.111,1.006,1.024,1.056,1.024,2.074,2.023,2.113,2.017,2.021,2.091,1.022,1.031,2.005,2.141,2.012,2.092,3.131,4.057,5.034,4.077,5.156,5.061,5.084,8.057,8.065,8.026,7.135,11.150,11.029,11.073,10.240]
ras_60 = [0.015,0.101,0.018,0.037,1.032,1.190,1.011,1.015,1.033,1.036,1.020,1.044,1.010,1.015,1.021,1.100,1.047,2.064,2.040,2.081,2.028,2.047,3.220,3.058,3.062,3.070,3.234,4.025,3.156,3.023,3.021,3.068,3.046,3.050,3.058,3.174,4.013,5.041,5.025,5.220,5.034,7.027,6.037,8.014,8.030,9.004,9.081,9.045,10.071,11.043,11.111,12.044,12.022,13.008,16.074,15.045,17.019,17.024,16.018,16.034]
ras_80 = [0.009,0.005,0.101,0.124,0.056,0.103,1.022,1.027,1.032,1.047,2.017,1.122,1.047,1.013,1.017,1.058,1.067,1.071,1.075,3.057,2.017,2.168,2.064,2.102,2.101,2.100,2.013,2.026,3.021,3.007,3.016,3.071,2.018,2.025,2.036,3.125,3.072,3.081,4.021,3.004,3.083,3.002,4.004,4.030,5.056,4.030,3.014,3.019,3.023,3.077,4.115,4.014,8.072,6.029,8.094,6.027,9.014,10.232,8.014,10.069,10.102,11.020,10.098,10.090,14.015,15.008,15.029,15.077,14.028,14.068,16.211,15.064,21.134,21.045,21.089,20.011,19.074,21.005,20.003,21.031]
ras_100 = [0.013,0.018,0.022,0.027,0.032,1.014,1.012,1.165,1.015,1.035,1.011,1.026,1.052,2.039,2.079,2.065,2.090,2.012,2.021,2.116,3.088,2.003,2.048,2.059,2.029,3.014,3.016,3.027,3.033,3.007,3.032,2.147,3.020,3.024,3.048,3.062,3.079,5.015,3.005,3.023,3.030,4.026,4.019,4.031,4.046,4.014,5.038,5.027,4.028,4.080,4.081,4.006,4.009,4.012,4.015,5.123,5.045,7.015,5.090,5.020,5.033,7.110,7.016,9.091,7.011,9.018,7.053,10.021,8.022,9.063,7.004,12.025,10.008,11.051,13.023,13.057,14.036,15.003,13.122,15.038,18.018,19.031,19.025,19.066,20.133,18.015,20.047,20.003,22.028,22.014,27.032,28.091,28.060,28.035,27.195,27.018,27.164,28.088,27.071,26.002]
 
maxy = 0

# for i in range(len(normal)):
#     normal[i] = 20*(i+1)/normal[i]
#     maxy = max(maxy,normal[i])

# for i in range(len(fifo)):
#     fifo[i] = 20*(i+1)/fifo[i]
#     maxy = max(maxy,fifo[i])

# for i in range(len(rr)):
#     rr[i] = 20*(i+1)/rr[i]
#     maxy = max(maxy,rr[i])

# for i in range(len(ras)):
#     ras[i] = 20*(i+1)/ras[i]
#     maxy = max(maxy,ras[i])

x = np.arange(len(labels))  # the label locations
width = 0.15  # the width of the bars

fig, ax = plt.subplots()
rects1 = ax.boxplot([normal_20,normal_40,normal_60,normal_80,normal_100],
                     notch=False,  # notch shape
                     vert=True,  # vertical box alignment
                     patch_artist=True,  # fill with color
                    #  labels=labels, # will be used to label x-ticks
                     widths = width,
                     positions = [i-3*width/2-0.045 for i in range(1,6)]
                     )  

rects2 = ax.boxplot([fifo_20,fifo_40,fifo_60,fifo_80,fifo_100],
                     notch=False,  # notch shape
                     vert=True,  # vertical box alignment
                     patch_artist=True,  # fill with color
                    #  labels=labels,# will be used to label x-ticks
                     widths = width ,
                     positions = [i-width/2-0.015 for i in range(1,6)]
                     )  

rects3 = ax.boxplot([rr_20,rr_40,rr_60,rr_80,rr_100],
                     notch=False,  # notch shape
                     vert=True,  # vertical box alignment
                     patch_artist=True,  # fill with color
                    #  labels=labels,# will be used to label x-ticks
                     widths = width ,
                     positions = [i+width/2+0.015 for i in range(1,6)]
                     ) 

rects4 = ax.boxplot([ras_20,ras_40,ras_60,ras_80,ras_100],
                     notch=False,  # notch shape
                     vert=True,  # vertical box alignment
                     patch_artist=True,  # fill with color
                    #  labels=labels,# will be used to label x-ticks
                     widths = width ,
                     positions = [i+3*width/2+0.045 for i in range(1,6)]
                     ) 

colors = ['#ABEBC6','#58D68D','#28B463','#1D8348']
i = 0
for bplot in (rects1, rects2,rects3,rects4):
    for patch in bplot['boxes']:
        patch.set_facecolor(colors[i])
    i+=1    

rects = [
    mpatches.Rectangle((0,0),1.5,1,color=colors[0]),
    mpatches.Rectangle((0,0),1.5,1,color=colors[1]),
    mpatches.Rectangle((0,0),1.5,1,color=colors[2]),
    mpatches.Rectangle((0,0),1.5,1,color=colors[3])
]

ax.legend(rects, ['NORMAL','FIFO','RR','RAS'],loc = 'upper left')

# Add some text for labels, title and custom x-axis tick labels, etc.
ax.set_xlabel('Task Number')
ax.set_ylabel('Turnaround Time (s)')
ax.set_title('Turnaround Time Benchmark')
ax.set_xticks(x, labels)

# ax.legend(handles=[patch])

# ax.bar_label(rects1, padding=3)
# ax.bar_label(rects2, padding=3)

# ax.set_ylim(0,math.ceil(maxy*1.1))

fig.tight_layout()

# plt.bar(range(len(normal)),normal, ec='w', ls='-', lw=0.01)
plt.show()